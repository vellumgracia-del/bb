<!doctype html>
<html lang="id">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>BARBAR — Platform Belajar Masa Depan</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Manrope:wght@400;500;600;700;800&display=swap" rel="stylesheet">
  
  <!-- File CSS Eksternal -->
  <link rel="stylesheet" href="style.css">
  
</head>
<body>
  
  <!-- 1. Landing Screen / Splash Screen -->
  <div id="splashScreen" class="splash-screen">
    <div class="splash-logo">
      <svg class="header-logo" width="48" height="48" viewBox="0 0 100 100" fill="none" xmlns="https://res.cloudinary.com/dgzufaone/image/upload/v1761129739/1000087563_barbar_g3geih.svg"><path d="M20 80V20L60 20C76.5685 20 90 33.4315 90 50C90 66.5685 76.5685 80 60 80H20Z" fill="#7F5AF0" fill-opacity="0.5"></path><path d="M20 70V30H55C66.0457 30 75 38.9543 75 50C75 61.0457 66.0457 70 55 70H20Z" fill="#7F5AF0"></path></svg>
      <h1>BARBAR</h1>
    </div>
  </div>

  <div id="notification" class="notification"></div>
  <div class="overlay" id="completionOverlay"></div>

  <header class="app-header">
    <div class="header-content">
      <div class="header-left">
        <button id="hamburgerBtn" class="hamburger-btn">
          <span></span><span></span><span></span>
        </button>
        <div class="header-title-group">
          <svg class="header-logo" width="32" height="32" viewBox="0 0 100 100" fill="none" src="https://res.cloudinary.com/dgzufaone/image/upload/v1761118376/1000087563_barbar_zzdktk.png"><path d="M20 80V20L60 20C76.5685 20 90 33.4315 90 50C90 66.5685 76.5685 80 60 80H20Z" fill="#7F5AF0" fill-opacity="0.5"></path><path d="M20 70V30H55C66.0457 30 75 38.9543 75 50C75 61.0457 66.0457 70 55 70H20Z" fill="#7F5AF0"></path></svg>
          <h1>BARBAR</h1>
        </div>
      </div>
    </div>
  </header>

  <!-- 4. Sidebar dengan Menu Baru -->
  <nav id="sidebar" class="sidebar-nav">
    <div id="welcomeUser" class="welcome-user" style="display: none;">
      Halo, <strong id="userNameDisplay"></strong>!
    </div>
    <a href="#home" class="nav-link" data-page="homePage">🏠 Beranda</a>
    <a href="#belajar" class="nav-link" data-page="subjectSelectionPage">📚 Mulai Belajar</a>
    <a href="#mentor" class="nav-link" data-page="aiMentorPage">🤖 AI Mentor</a>
    <a href="https://udinndinn49-debug.github.io/contoh/" target="_blank" class="nav-link">💬 Forum Diskusi</a>
    <a href="#feedback" class="nav-link" data-page="feedbackPage">⭐ Beri Penilaian</a>
    <a href="#fitur" id="fiturTambahanBtn" class="nav-link">✨ Fitur Tambahan</a>
  </nav>
  
  <!-- Overlay untuk menutup sidebar (Poin 2) -->
  <div id="sidebarOverlay" class="sidebar-overlay"></div>

  <div id="pageContainer" class="page-container">
    <div id="landingPage" class="page active">
      <div class="landing-content">
        <div class="landing-text">
          <h2>Selamat Datang di <span class="highlight">BARBAR</span></h2>
          <p>Platform microlearning revolusioner yang membantumu menguasai materi sulit hanya dalam 5 menit. Siap naik level?</p>
          <div class="landing-input-group">
            <input id="userNameInput" type="text" placeholder="Ketik nama Anda untuk memulai..." />
            <button id="startAppBtn" class="btn accent-btn animated-btn"><span>Mulai Petualangan</span></button>
          </div>
        </div>
      </div>
    </div>

    <div id="homePage" class="page">
      <div class="home-hero">
        <h3>Visi & Misi Kami</h3>
        <p>Mendemokratisasi pendidikan berkualitas tinggi melalui teknologi, menjadikannya cepat, mudah diakses, dan menyenangkan bagi setiap pelajar di Indonesia.</p>
      </div>

      <!-- FITUR GEMINI #1: FAKTA MENARIK -->
      <div class="card" id="funFactCard">
        <div class="card-header">Fakta Menarik Hari Ini</div>
        <p id="funFactText" class="page-subtitle" style="min-height: 40px; margin-top: 0;">Klik tombol di bawah untuk mendapatkan fakta menarik baru tentang sains atau belajar!</p>
        <button id="getFunFactBtn" class="btn accent-btn animated-btn" style="margin-top: 16px;">
          <span class="btn-text">✨ Tampilkan Fakta Menarik</span>
        </button>
      </div>
      
      <div class="founder-section">
        <h3>Tim Pendiri</h3>
        <div class="founder-grid">
          <div class="founder-card"><div class="founder-photo"><img src="https://res.cloudinary.com/dgzufaone/image/upload/v1761118376/Gemini_Generated_Image_jxmjhwjxmjhwjxmj_ixh88x.jpg" alt="Foto Zulfa Fahmiy"></div><div class="founder-shape"></div><h4>Zulfa Fahmiy</h4><p>Chief Executive Officer</p></div>
          <div class="founder-card"><div class="founder-photo"><img src="https://res.cloudinary.com/dgzufaone/image/upload/v1761119341/1000087641_pra_re9gau.png" alt="Foto Prabu Revolusi"></div><div class="founder-shape"></div><h4>Prabu Revolusi</h4><p>Chief Technology Officer</p></div>
        </div>
      </div>
    </div>
    
    <div id="subjectSelectionPage" class="page">
        <h2>Pilih Mata Pelajaran</h2>
        <p class="page-subtitle">Pilih salah satu mata pelajaran untuk melihat topik yang tersedia.</p>
        <div id="subjectGrid" class="selection-grid"></div>
    </div>

    <div id="topicSelectionPage" class="page">
        <button id="backToSubjectsBtn" class="btn back-btn">← Kembali ke Mata Pelajaran</button>
        <h2 id="topicSelectionTitle">Pilih Topik</h2>
        <p class="page-subtitle">Topik dirancang untuk dipelajari dalam 5 menit.</p>
        <div id="topicGrid" class="selection-grid"></div>
    </div>

    <div id="appPage" class="page">
      <div class="container-app">
        <main class="left">
          <!-- 2. Perbaikan Kolom Video -->
          <div class="card video-card">
             <div class="video-container">
                <video id="topicVideo" controls preload="metadata"><source src="" type="video/mp4"></video>
            </div>
            <div class="video-info-wrapper">
              <div class="topic-details">
                <h3 id="topicTitle">-</h3>
                <p class="small">Timer sesi: <span class="timer" id="sessTimer">05:00</span></p>
              </div>
              <div class="topic-controls">
                  <div class="progress-line"><i id="progBar"></i></div>
                  <div class="controls">
                    <button class="btn" id="startSession">Mulai Sesi</button>
                  </div>
              </div>
            </div>
          </div>
          <!-- 2. Perbaikan Tampilan Kuis dengan Animasi -->
          <div class="card quiz" id="quizArea" style="display:none">
            <div id="quizHeader">
              <h4>Kuis Singkat</h4>
              <p class="small">Soal tersisa: <span id="remainingQ">0</span></p>
            </div>
            <div id="questionWrap"></div>
            <div class="quiz-controls">
              <!-- FITUR GEMINI #2: TOMBOL PENJELASAN KUIS -->
              <button id="explainAnswerBtn" class="btn small-btn" style="display: none; margin-top: 16px;">
                <span class="btn-text">✨ Jelaskan Jawaban</span>
              </button>
              <button class="btn" id="endSession" style="display:none">Akhiri Sesi</button>
            </div>
          </div>
        </main>
        <aside class="sidebar">
          <div class="card">
            <div class="card-header">Statistik</div>
            <div class="stats-grid">
              <div><p class="small">Topik Selesai</p><strong id="doneTopics">0</strong></div>
              <div><p class="small">Total Poin</p><strong id="totalPoints">0</strong></div>
            </div>
          </div>
          <div class="card">
            <div class="card-header">🏆 Papan Peringkat</div>
            <div id="leaderboard" class="scrollable-content"></div>
          </div>
        </aside>
      </div>
    <!-- 5. Halaman AI Mentor Terpisah (FITUR GEMINI #3) -->
    <div id="aiMentorPage" class="page">
        <h2>AI Mentor</h2>
        <p class="page-subtitle">Punya pertanyaan? Tanyakan pada mentor AI kami. Didukung oleh AI canggih. (Penggunaan demo gratis)</p>
        <div class="mentor-page-container card">
            <div id="mentorLog" class="mentor-log-full">
              <div class="msg ai">Halo! Saya adalah mentor AI 'BARBAR'. Tanyakan apa saja terkait pelajaran atau topik yang sedang Anda pelajari.</div>
            </div>
            <div class="mentor-input-full">
              <input id="mentorInput" type="text" placeholder="Tanya Mentor..." />
              <button class="btn accent-btn" id="sendMentor">
                <span class="btn-text">Kirim</span>
              </button>
            </div>
        </div>
    </div>

    <div id="feedbackPage" class="page">
      <div class="feedback-container">
        <div class="card feedback-wrapper">
          <h3>Beri Penilaian Anda</h3>
          <p class="small">Bagaimana pengalaman belajar Anda hari ini?</p>
          <div class="star-rating" id="starRating">
              <!-- Bintang kini menggunakan simbol Unicode yang akan diubah oleh JS -->
              <span class="star" data-value="1">☆</span><span class="star" data-value="2">☆</span><span class="star" data-value="3">☆</span><span class="star" data-value="4">☆</span><span class="star" data-value="5">☆</span>
          </div>
          <textarea id="feedbackText" placeholder="Ketik saran atau masukan Anda di sini..."></textarea>
          <button id="submitFeedback" class="btn accent-btn animated-btn"><span>Kirim Feedback</span></button>
          <p id="feedbackThanks" class="small" style="display:none; color: var(--green); font-weight: 600; margin-top: 16px;">Terima kasih atas masukan Anda!</p>
        </div>
      </div>
    </div>

  </div>

  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.9.2/dist/confetti.browser.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
  
  <!-- File JavaScript Eksternal -->
  <script src="script.js" defer></script>
</body>
</html>
